---
epic: debugdashboard
number: 001
title: UI Integration - Debug Toggle and Dashboard Access
status: closed
created: 2025-09-03T16:52:09Z
depends_on: []
parallel: false
conflicts_with: []
effort: S
estimate_days: 1
batch: core-integration
---

# Task 001: UI Integration - Debug Toggle and Dashboard Access

## Overview

Add debug mode toggle to ProcessVideoView with performance disclaimer, debug status indicator during processing, and conditional "View Debug Dashboard" button in results view. This task establishes the UI foundation for debug workflow access.

## Context

This is the entry point task for the debug dashboard integration. It creates the user-facing controls and access points without requiring backend changes. The debug toggle will be consumed by subsequent tasks for conditional behavior.

## Technical Details

**Files to Modify:**
- `Presentation/Views/ProcessVideoView.swift` - Add debug UI controls and state management

**Implementation Approach:**
1. Add debug mode state variable: `@State private var isDebugEnabled: Bool = false`
2. Add debug toggle control with clear performance warning messaging
3. Implement debug status indicator that appears during video processing
4. Add conditional "View Debug Dashboard" button in results section
5. Set up navigation state for dashboard presentation

**UI Components:**
```swift
// Debug Mode Toggle (in processing setup section)
Toggle("Debug Mode", isOn: $isDebugEnabled)
    .toggleStyle(SwitchToggleStyle())

// Performance Warning
if isDebugEnabled {
    HStack {
        Image(systemName: "exclamationmark.triangle")
        Text("Debug mode may increase processing time by 10-15%")
    }
    .foregroundColor(.orange)
    .font(.caption)
}

// Debug Status Indicator (during processing)
if isProcessing && isDebugEnabled {
    HStack {
        Image(systemName: "ladybug")
        Text("Debug data collection active...")
    }
    .foregroundColor(.blue)
}

// Debug Dashboard Access Button (in results view)
if hasDebugData {
    Button("View Debug Dashboard") {
        showingDebugDashboard = true
    }
    .buttonStyle(.borderedProminent)
}
```

## State Management

**New State Variables:**
- `@State private var isDebugEnabled: Bool = false` - Controls debug mode activation
- `@State private var hasDebugData: Bool = false` - Tracks availability of debug data
- `@State private var showingDebugDashboard: Bool = false` - Controls dashboard presentation

**State Flow:**
1. User toggles debug mode before processing → `isDebugEnabled = true`
2. Processing begins → debug indicator appears if `isDebugEnabled`
3. Processing completes with debug data → `hasDebugData = true`
4. Debug dashboard button becomes available → user can access dashboard

## Acceptance Criteria

### UI Controls
- [ ] Debug mode toggle appears prominently in video processing setup section
- [ ] Performance disclaimer appears when debug mode enabled with clear warning text
- [ ] Toggle state persists during processing session (not between app launches)
- [ ] Debug status indicator appears only during processing when debug mode active

### Results View Integration
- [ ] "View Debug Dashboard" button appears in results view only when debug data exists
- [ ] Button styling consistent with app design system (bordered prominent style)
- [ ] Button tap triggers navigation state change (`showingDebugDashboard = true`)

### User Experience
- [ ] Debug controls grouped logically within processing setup UI
- [ ] Performance warning uses appropriate warning color (orange) and icon
- [ ] Debug status uses distinct color (blue) to differentiate from regular processing status
- [ ] All text content follows app localization patterns

### Technical Integration
- [ ] State variables properly declared and initialized
- [ ] UI conditionally renders based on state values
- [ ] No build errors or SwiftUI preview issues
- [ ] Code follows existing ProcessVideoView patterns and style

## Definition of Done

1. **UI Implementation Complete**: Debug toggle, warning message, status indicator, and dashboard button implemented in ProcessVideoView
2. **State Management Working**: All state variables properly manage debug workflow states
3. **Visual Design Consistent**: All UI elements follow app design patterns and accessibility guidelines
4. **Ready for Integration**: State variables and navigation setup prepared for backend connection in subsequent tasks
5. **No Regressions**: Existing ProcessVideoView functionality unaffected by debug UI additions

## Notes

- This task focuses purely on UI foundation - no backend integration required
- Debug data availability (`hasDebugData`) will be set by Task 002 after VideoProcessor integration
- Navigation destination setup will be completed in Task 003
- Performance disclaimer should be prominent enough to ensure informed consent